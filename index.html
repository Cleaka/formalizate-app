<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formal√≠zate OSINERGMIN - Evaluaci√≥n de Almacenamiento</title>
<style>
:root {
    --primary: #003366;
    --secondary: #f1c40f;
    --success: #27ae60;
    --danger: #e74c3c;
    --light: #f5f7fa;
    --dark: #2c3e50;
}
body {
    font-family: 'Segoe UI', sans-serif;
    background-color: var(--light);
    margin: 0;
    color: var(--dark);
    overflow-x: hidden;
}
header {
    background: linear-gradient(135deg, var(--primary), #0057b8);
    color: white;
    padding: 25px;
    text-align: center;
    border-bottom: 5px solid var(--secondary);
}
header .logo {
    font-size: 28px;
    font-weight: bold;
}
header .subtitle {
    font-size: 15px;
    opacity: 0.9;
}
.container {
    max-width: 850px;
    margin: 20px auto;
    background: white;
    border-radius: 10px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    overflow: hidden;
    animation: fadeIn 1s ease;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}
.card {
    padding: 25px;
}
.progress-bar {
    height: 10px;
    background: #ddd;
    border-radius: 5px;
    overflow: hidden;
    margin: 0 25px 20px;
}
.progress {
    height: 100%;
    background: var(--secondary);
    width: 0%;
    transition: width 0.5s ease;
}
.option-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
}
.option-card {
    background: #f9f9f9;
    border-radius: 10px;
    border: 2px solid transparent;
    text-align: center;
    padding: 20px;
    flex: 1 1 250px;
    cursor: pointer;
    transition: all 0.3s ease;
}
.option-card:hover {
    transform: translateY(-5px);
    border-color: var(--secondary);
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.option-card.selected {
    border-color: var(--secondary);
    background: #fffbe6;
}
.option-icon {
    font-size: 40px;
    color: var(--primary);
}
.btn {
    background-color: var(--primary);
    color: white;
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    margin: 10px 5px;
    cursor: pointer;
    transition: background 0.3s;
}
.btn:hover {
    background-color: #004080;
}
.btn:disabled {
    background-color: #ccc;
    cursor: not-allowed;
}
.step {
    display: none;
}
.step.active {
    display: block;
}
.result {
    border-radius: 10px;
    padding: 20px;
    text-align: center;
}
.result.success {
    background: #e8f8ec;
    border: 2px solid var(--success);
    color: var(--success);
}
.result.warning {
    background: #fff4e6;
    border: 2px solid #f39c12;
    color: #f39c12;
}
.recommendation-item {
    background: #fff4e6;
    border-left: 5px solid #f39c12;
    padding: 10px;
    margin: 8px 0;
}
select, input, textarea {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-size: 15px;
}
label {
    font-weight: 600;
    margin-bottom: 6px;
    display: block;
}
footer {
    background: var(--primary);
    color: white;
    text-align: center;
    padding: 10px;
    font-size: 14px;
}
</style>
</head>
<body>
<header>
    <div class="logo">üü¶ OSINERGMIN - Formal√≠zate</div>
    <div class="subtitle">Evaluaci√≥n para almacenamiento de balones de gas</div>
</header>

<div class="container">
    <div class="progress-bar"><div class="progress" id="progress"></div></div>
    <div class="card step active" id="step1">
        <h2>1Ô∏è‚É£ ¬øD√≥nde desea almacenar los balones?</h2>
        <div class="option-grid">
            <div class="option-card" data-option="1"><div class="option-icon">üè†</div><h3>Espacio con techo</h3></div>
            <div class="option-card" data-option="2"><div class="option-icon">üå§Ô∏è</div><h3>Sin techo</h3></div>
            <div class="option-card" data-option="3"><div class="option-icon">üõí</div><h3>En rack</h3></div>
        </div>
        <button class="btn" id="next1" disabled>Siguiente ‚û°Ô∏è</button>
    </div>

    <div class="card step" id="step2">
        <h2>2Ô∏è‚É£ Evaluaci√≥n de condiciones</h2>
        <div id="questions-container"></div>
        <button class="btn" id="prev2">‚¨ÖÔ∏è Atr√°s</button>
        <button class="btn" id="next2">Evaluar ‚úÖ</button>
    </div>

    <div class="card step" id="step3">
        <h2>3Ô∏è‚É£ Resultado</h2>
        <div id="result-container"></div>
        <button class="btn" id="restart">üîÅ Nueva evaluaci√≥n</button>
    </div>
</div>

<footer>
    ¬© 2025 OSINERGMIN | Proyecto Formal√≠zate
</footer>

<script>
let currentStep = 1;
let selectedOption = null;
const steps = document.querySelectorAll('.step');
const optionCards = document.querySelectorAll('.option-card');
const next1 = document.getElementById('next1');
const prev2 = document.getElementById('prev2');
const next2 = document.getElementById('next2');
const restart = document.getElementById('restart');
const progress = document.getElementById('progress');
const resultContainer = document.getElementById('result-container');
const questionsContainer = document.getElementById('questions-container');

const questions = {
    1: [
        { id:'vent', text:'¬øCuenta con ventilaci√≥n permanente?', options:['S√≠','No'], valid:'S√≠' },
        { id:'dist', text:'¬øEst√° a m√°s de 7.6 m de un transformador el√©ctrico?', options:['S√≠','No'], valid:'S√≠' },
        { id:'techo', text:'Material del techo', options:['Concreto','Metal','Madera','Pl√°stico'], valid:['Concreto','Metal'] }
    ],
    2: [
        { id:'dist', text:'¬øEst√° a m√°s de 7.6 m del transformador?', options:['S√≠','No'], valid:'S√≠' },
        { id:'piso', text:'Material del piso', options:['Cemento','Tierra','Madera'], valid:'Cemento' }
    ],
    3: [
        { id:'retiro', text:'¬øTiene espacio de retiro entre la vereda y la casa?', options:['S√≠','No'], valid:'S√≠' }
    ]
};

optionCards.forEach(card=>{
    card.addEventListener('click',()=>{
        optionCards.forEach(c=>c.classList.remove('selected'));
        card.classList.add('selected');
        selectedOption = card.dataset.option;
        next1.disabled = false;
    });
});

next1.onclick = ()=>goToStep(2);
prev2 && (prev2.onclick = ()=>goToStep(1));
next2.onclick = evaluate;
restart.onclick = ()=>location.reload();

function goToStep(n){
    steps.forEach(s=>s.classList.remove('active'));
    document.getElementById(`step${n}`).classList.add('active');
    currentStep = n;
    progress.style.width = `${(n/3)*100}%`;
    if(n===2) loadQuestions();
}

function loadQuestions(){
    questionsContainer.innerHTML='';
    questions[selectedOption].forEach(q=>{
        const div=document.createElement('div');
        div.className='form-group';
        div.innerHTML=`<label>${q.text}</label>`;
        const sel=document.createElement('select');
        sel.id=q.id;
        sel.innerHTML='<option value="">-- Seleccione --</option>'+q.options.map(o=>`<option>${o}</option>`).join('');
        div.appendChild(sel);
        questionsContainer.appendChild(div);
    });
}

function evaluate(){
    const list = questions[selectedOption];
    let passed=true;
    resultContainer.innerHTML='';
    list.forEach(q=>{
        const val=document.getElementById(q.id).value;
        if(!val || (Array.isArray(q.valid)?!q.valid.includes(val):val!==q.valid)){
            passed=false;
            const rec=document.createElement('div');
            rec.className='recommendation-item';
            rec.textContent=`‚ö†Ô∏è ${q.text} no cumple con el requisito.`;
            resultContainer.appendChild(rec);
        }
    });
    const res=document.createElement('div');
    res.className='result '+(passed?'success':'warning');
    res.innerHTML=passed?'<h3>‚úÖ Cumple con los requisitos m√≠nimos.</h3>':'<h3>‚ö†Ô∏è No cumple con todos los requisitos cr√≠ticos.</h3>';
    resultContainer.prepend(res);
    goToStep(3);
}
</script>
</body>
</html>
